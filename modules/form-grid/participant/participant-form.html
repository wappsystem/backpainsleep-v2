<div id=D__ID>
	<!--third html start -->
	<div class="container mt-95">
		<!-- form container start -->
		<div class="formbox">
			<!-- form start -->
			<form id="F__ID">
				<span id=title__ID>Participant's Details</span>
				<!-- participant name and study id -->
				<div class="formgroup">
					<fieldset class="">
						<div class="grid-container-1">
							<div><label style="width:100%"><span class="question">Participant ID</span>
									<input type=text id="record__ID" class=formcontrol readonly />
								</label>
							</div>
						</div>
						<span class="question">
							Contact preference
						</span>
						<div class="grid-container-1">
							<label>
								<input id="cont_pref_0__ID" name="cont_pref" type="radio" value="0" required>
								<label id="cont_pref_button_text_0__ID" class="rd_btn width_btn_130"
									for="cont_pref_0__ID">Email</label>
								<input id="cont_pref_1__ID" name="cont_pref" type="radio" value="1">
								<label id="cont_pref_button_text_1__ID" class="rd_btn width_btn_130"
									for="cont_pref_1__ID">Text</label>
								<input id="cont_pref_2__ID" name="cont_pref" type="radio" value="2">
								<label id="cont_pref_button_text_2__ID" class="rd_btn width_btn_130"
									for="cont_pref_2__ID">Both</label>
							</label>
						</div>
						<div class="grid-container-3">
							<div><label style="width:100%"><span class="question">Name</span>
									<input type=text name="name" class=formcontrol />
								</label>
							</div>
							<div><label style="width:100%"><span class="question">Telephone</span>
									<input type=text name="telephone" class=formcontrol />
								</label>
							</div>
							<div><label style="width:100%"><span class="question">Email</span>
									<input type=text name="email" class=formcontrol />
								</label>
							</div>
						</div>
					</fieldset>
				</div>
				<div class="formgroup">
					<div class="questiongroup ">
						<fieldset class="">
							<div class="grid-container-2">
								<div>
									<label><span class="question">Access Code</span>
										<input type=text name="Access_Code" class="formcontrol" />
									</label>
								</div>
								<div>
									<label><span class="question">Notes</span>
										<textarea name="Notes" class="formcontrol  width_80"></textarea>
									</label>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
				<div class="formgroup">
					<fieldset class="">
						<div class="grid-container-2">
							<div><label><span class="question">Password</span>
									<input type=text name="_Password" class=formcontrol style="width:90%" />
								</label>
							</div>
							<div><label><span class="question">Group</span>
									<input type=text name="Group" class=formcontrol  style="width:90%" readonly />
								</label>
							</div>
						</div>
						<div id="randomisation_div__ID">
							<div class="grid-container-2">
								<div><label><span class="question">Randomisation Number</span>
										<input type=text name="Randomisation_Number" class=formcontrol readonly
											placeholder='click here to randomise' style="width:90%" />
									</label>
								</div>
								<div><label><span class="question">Randomised by</span>
										<input type=text name="Randomised_by" class=formcontrol readonly style="width:90%" />
									</label>
								</div>
							</div>
						</div>
					</fieldset>
				</div>
				<div class="formgroup right">
					<button type="submit" id="submit__ID" class="btn">Submit</button>
				</div>
			</form>
		</div>
	</div>
	<script>
		function F__ID() {
			//-------------------------------------
			VmInclude: '__HOST__/assets/js/form.01.js'
			//-------------------------------------
			var load = m.load;
			m.load = function () {
				load();
				if (m.input.record == undefined) {
					$('#F__ID input[name=_Password').val($vm.vm_password(8, false));
				}
				else {
					$('#record__ID').val(m.input.record.UID)
				}
			}
			//-------------------------------------
			$('#F__ID input[name=Randomisation_Number]').on('click', function () {
				var I1 = $('#F__ID input[name=Randomisation_Number').val();
				if (I1 == '') {
					$vm.request({ cmd: "find", table: m.Table, sort: { I1: -1 }, skip: 0, limit: 1 }, function (res) {
						if (res.sys.permission == false) {
							$vm.alert("No permission. Private database table, ask the table's owner for permissions.");
							return;
						}
						var max_I1 = 0;
						if (res.result.length > 0) {
							if (res.result[0].I1 !== undefined) max_I1 = res.result[0].I1
						}
						max_I1++;
						$('#F__ID input[name=Randomisation_Number').val(max_I1);
						$('#F__ID input[name=Randomised_by').val($vm.user_name);
					})
				}
			})
			//-------------------------------------
			m.before_submit = function (data, index) {
				var I1 = $('#F__ID input[name=Randomisation_Number').val(); if (I1 != '' && I1 != '-') index.I1 = parseInt(I1);
			}
			//-------------------------------------
		}
	</script>
	<style>
		#D__ID {
		}

		/*VmInclude:__HOST__/assets/css/wapp-form.css*/
	</style>
</div>